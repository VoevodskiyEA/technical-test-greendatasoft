(this["webpackJsonpgreendatasoft-test"]=this["webpackJsonpgreendatasoft-test"]||[]).push([[0],{174:function(e,t,n){},175:function(e,t,n){},256:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(24),s=n.n(i),c=(n(174),n(43)),l=(n(175),n(176),n(30)),o=n(150),d=n(151),u=n(32),j=new(function(){function e(){Object(o.a)(this,e),this.defaultValue=[{key:"1",surname:"Stahelski",name:"Chad",patronymic:"F.",position:"Film director",birthDay:"1968-09-19",gender:"male",employmentDate:"1993-03-31",dismissalDate:"Employed until the present",rights:[1],collegues:["Keanu Reeves"]},{key:"2",surname:"Keanu",name:"Reeves",patronymic:"Henry",position:"Actor",birthDay:"1964-09-02",gender:"male",employmentDate:"1984-03-15",dismissalDate:"Employed until the present",rights:[0],collegues:["Chad Stahelski"]}],this.register=this.setLocalStorage(),Object(u.d)(this)}return Object(d.a)(e,[{key:"setLocalStorage",value:function(){var e=localStorage.getItem("employee");return e?JSON.parse(e):this.defaultValue}},{key:"addEmployee",value:function(e){this.register.push(e)}},{key:"removeEmployee",value:function(e){this.register=this.register.filter((function(t){return t.key!==e}))}},{key:"getReg",value:function(){return JSON.stringify(this.register)}},{key:"getLastKey",value:function(){return 0===this.register.length?"1":JSON.stringify(+this.register[this.register.length-1].key+1)}},{key:"changeRegister",value:function(e){var t=JSON.stringify(e);this.register=e,localStorage.setItem("employee",t)}},{key:"setDefaultLocalStorage",value:function(){this.register=this.defaultValue,localStorage.setItem("employee",JSON.stringify(this.register))}}]),e}()),b=n(83),h=n(134),m=n.n(h),O=n(164),g=n(152),p=n(168),x=n(265),y=n(266),f=n(263),v=n(264),S=n(267),k=n(42),D=n(261),C=n(8),w=function(e){var t=e.editing,n=e.dataIndex,a=e.title,r=e.inputType,i=(e.record,e.index,e.children),s=Object(p.a)(e,["editing","dataIndex","title","inputType","record","index","children"]),l="number"===r?Object(C.jsx)(x.a,{}):Object(C.jsx)(y.a,{});return Object(C.jsx)("td",Object(c.a)(Object(c.a)({},s),{},{children:t?Object(C.jsx)(f.a.Item,{name:n,style:{margin:0},rules:[{required:!0,message:"Please Input ".concat(a,"!")}],children:l}):i}))},F=Object(b.a)((function(){var e=Object(a.useState)(j.register),t=Object(l.a)(e,2),n=t[0],r=t[1],i=f.a.useForm(),s=Object(l.a)(i,1)[0],o=Object(a.useState)(""),d=Object(l.a)(o,2),u=d[0],b=d[1],h=function(e){return e.key===u},p=function(){b("")},x=function(){var e=Object(g.a)(m.a.mark((function e(t){var a,i,l,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.validateFields();case 3:a=e.sent,i=Object(O.a)(n),(l=i.findIndex((function(e){return t===e.key})))>-1?(o=i[l],i.splice(l,1,Object(c.a)(Object(c.a)({},o),a)),r(i),b("")):(i.push(a),r(i),b("")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),y=[{title:"Surname",dataIndex:"surname",width:150,editable:!0},{title:"Name",dataIndex:"name",width:150,editable:!0},{title:"Patronymic",dataIndex:"patronymic",width:150,editable:!0},{title:"Position",dataIndex:"position",width:150,editable:!0},{title:"Birth day",dataIndex:"birthDay",width:130,editable:!0},{title:"Gender",dataIndex:"gender",width:100,editable:!0},{title:"Employment date",dataIndex:"employmentDate",width:130,editable:!0},{title:"Dismissal date",dataIndex:"dismissalDate",width:130,editable:!0},{title:"Rights",dataIndex:"rights",width:150,editable:!0},{title:"Collegues",dataIndex:"collegues",width:150,editable:!0},{title:"Change",dataIndex:"operation",width:115,render:function(e,t){return h(t)?Object(C.jsxs)("span",{children:[Object(C.jsx)(v.a.Link,{onClick:function(){return x(t.key)},style:{marginRight:8},children:"Save"}),Object(C.jsx)(S.a,{title:"Sure to cancel?",onConfirm:p,children:Object(C.jsx)(v.a.Link,{children:"Cancel"})})]}):Object(C.jsx)(v.a.Link,{disabled:""!==u,onClick:function(){return function(e){s.setFieldsValue(Object(c.a)({name:"",age:"",address:""},e)),b(e.key)}(t)},children:"Edit"})}},{title:"Erase",dataIndex:"operation",width:110,render:function(e,t){return Object(C.jsx)(k.a,{onClick:function(){var e=+n.map((function(e,n){var a;return e.key===t.key&&(a=n),a})).filter((function(e){return null!=e}));n.splice(e,1),j.changeRegister(n)},children:"Delete"})}}].map((function(e){return e.editable?Object(c.a)(Object(c.a)({},e),{},{onCell:function(t){return{record:t,inputType:"age"===e.dataIndex?"number":"text",dataIndex:e.dataIndex,title:e.title,editing:h(t)}}}):e}));return Object(a.useEffect)((function(){j.setLocalStorage(),console.log(w)}),[]),Object(a.useEffect)((function(){var e=JSON.stringify(j.register);localStorage.setItem("employee",e),r(JSON.parse(e))}),[JSON.stringify(j.register)]),Object(a.useEffect)((function(){j.changeRegister(n)}),[JSON.stringify(n)]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(f.a,{form:s,component:!1,children:Object(C.jsx)(D.a,{components:{body:{cell:w}},bordered:!0,dataSource:n,columns:y,rowClassName:"editable-row",pagination:{onChange:p}})})})})),I=n(90),N=n(100),E=n(262),J=n(122),L=n(101),_=Object(b.a)((function(e){var t=e.display,n={key:j.getLastKey(),surname:"",name:"",patronymic:"",position:"",birthDay:"",gender:"male",employmentDate:"",dismissalDate:"",rights:[],collegues:[]},r={surname:"",name:"",position:"",birthDay:"",gender:"",employmentDate:"",rights:[]},i=Object(I.d)(),s=Object(a.useState)(n.surname),c=Object(l.a)(s,2),o=c[0],d=c[1],u=Object(a.useState)(n.name),b=Object(l.a)(u,2),h=b[0],m=b[1],O=Object(a.useState)(n.patronymic),g=Object(l.a)(O,2),p=g[0],x=g[1],f=Object(a.useState)(n.position),v=Object(l.a)(f,2),S=v[0],D=v[1],w=Object(a.useState)(n.birthDay),F=Object(l.a)(w,2),_=F[0],R=F[1],A=Object(a.useState)(n.gender),T=Object(l.a)(A,2),P=T[0],V=T[1],B=Object(a.useState)(n.employmentDate),G=Object(l.a)(B,2),K=G[0],M=G[1],H=Object(a.useState)(n.dismissalDate),U=Object(l.a)(H,2),W=U[0],q=U[1],z=Object(a.useState)(n.rights),Q=Object(l.a)(z,2),X=Q[0],Y=Q[1],Z=Object(a.useState)([]),$=Object(l.a)(Z,2),ee=$[0],te=$[1];function ne(){var e=[];n.surname=o,n.name=h,n.patronymic=p,n.position=S,n.birthDay=_,n.gender=P,n.employmentDate=K,n.dismissalDate=W,n.rights=2===X.length?[X[0]+", "+X[1]]:[X[0]];for(var t=0;t<ee.length;t++)t+1!==ee.length?e[t]=JSON.parse(ee[t]).surname+" "+JSON.parse(ee[t]).name+", ":e[t]=JSON.parse(ee[t]).surname+" "+JSON.parse(ee[t]).name;n.collegues=e,""===n.dismissalDate&&(n.dismissalDate="Employed until the present")}function ae(){ne(),r.surname=n.surname,r.name=n.name,r.position=n.position,r.birthDay=n.birthDay,r.gender=n.gender,r.employmentDate=n.employmentDate,r.dismissalDate=n.dismissalDate,r.rights=n.rights;var e=function(e){var t;function n(e){return""===e.toString()}for(var a=Object.values(e),r=0;r<a.length&&!(t=n(a[r]));r++);return t}(r),t=function(e,t){var n=e.split("-"),a=Object(l.a)(n,3),r=a[0],i=a[1],s=a[2],c=t.split("-"),o=Object(l.a)(c,3),d=o[0],u=o[1],j=o[2];return!(+r>+d)&&(+r!==+d||!(+i>+u)&&(+i!==+u||!(+s>+j)))}(n.employmentDate,n.dismissalDate),a=function(e,t){var n=e.split("-"),a=Object(l.a)(n,3),r=a[0],i=a[1],s=a[2],c=t.split("-"),o=Object(l.a)(c,3),d=o[0],u=o[1],j=o[2];return+d-+r>16||+d-+r===16&&(+u>+i||+u===+i&&+j>=+s)}(n.birthDay,n.employmentDate);!e&&t&&a?(j.addEmployee(n),i.success("New employee added")):e?i.error("Fill all fields"):t?i.error("Cannot hire minors"):i.error("Enter valid date")}for(var re=N.a.Option,ie=[],se=0;se<j.register.length;se++)ie.push(Object(C.jsx)(re,{value:JSON.stringify(j.register[se]),children:j.register[se].surname+" "+j.register[se].name},j.register[se].key));return Object(C.jsxs)("div",{className:" ".concat(t?"":"display-none"),children:[Object(C.jsx)(y.a,{name:"surname",placeholder:"Surname",onChange:function(e){return d(e.target.value)},value:o}),Object(C.jsx)(y.a,{name:"name",placeholder:"Name",onChange:function(e){m(e.target.value)},value:h}),Object(C.jsx)(y.a,{name:"patronymic",placeholder:"Patronymic",onChange:function(e){x(e.target.value)},value:p}),Object(C.jsx)(y.a,{name:"position",placeholder:"Position",onChange:function(e){D(e.target.value)},value:S}),Object(C.jsx)(E.a,{placeholder:"Birthday",onChange:function(e,t){return R(t)}}),Object(C.jsxs)(J.a.Group,{onChange:function(e){return V(e.target.value)},value:P,children:[Object(C.jsx)(J.a,{value:"male",children:"Male"}),Object(C.jsx)(J.a,{value:"female",children:"Female"})]}),Object(C.jsx)(E.a,{placeholder:"Employment date",onChange:function(e,t){return M(t)}}),Object(C.jsx)(E.a,{placeholder:"Dismissal date",onChange:function(e,t){return q(t)}}),Object(C.jsx)(L.a.Group,{options:[{label:"Admin",value:1},{label:"User",value:0}],defaultValue:["Pear"],onChange:function(e){return t=e,console.log(t),void(1===t.length?Y([+t]):Y(t));var t}}),Object(C.jsx)(N.a,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Please select",defaultValue:[],onChange:function(e){return te(e)},children:ie}),Object(C.jsx)(k.a,{onClick:function(){return ae()},children:"Add new row"})]})})),R=n(260),A=R.a.Header,T=R.a.Content,P=R.a.Footer,V=v.a.Title,B=Object(b.a)((function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],i=n[1];return Object(C.jsx)("div",{className:"main",children:Object(C.jsxs)(R.a,{className:"main__layout",children:[Object(C.jsx)(A,{className:"main__layout__header",children:Object(C.jsx)(V,{id:"brand",children:"GreenData"})}),Object(C.jsxs)(T,{className:"main__layout__content",children:[Object(C.jsx)(k.a,{onClick:function(){return i(!r)},children:"Add new"}),Object(C.jsx)(k.a,{onClick:function(){return j.setDefaultLocalStorage()},children:"Set default localStorage"}),Object(C.jsx)(_,{display:r}),Object(C.jsx)(F,{})]}),Object(C.jsx)(P,{className:"main__layout__footer",style:{},children:"Ant Design \xa92018 Created by Ant UED"})]})})})),G=function(e){var t=e.color,n=e.pushRight,a=void 0===n||n,r=e.children;return Object(C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:a?"20px":"0",minWidth:24},children:r})},K=function(){return Object(C.jsxs)(G,{color:"#FFFFFF",pushRight:!1,children:[Object(C.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Object(C.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})},M=function(){return Object(C.jsxs)(G,{color:"#FF0040",children:[Object(C.jsx)("circle",{cx:"12",cy:"12",r:"10"}),Object(C.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),Object(C.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"16"})]})},H=function(){return Object(C.jsxs)(G,{color:"#2E9AFE",children:[Object(C.jsx)("circle",{cx:"12",cy:"12",r:"10"}),Object(C.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),Object(C.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"8"})]})},U=function(){return Object(C.jsxs)(G,{color:"#31B404",children:[Object(C.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),Object(C.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]})},W={backgroundColor:"#151515",color:"white",padding:"10px",textTransform:"uppercase",borderRadius:"3px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0px 2px 2px 2px rgba(0, 0, 0, 0.03)",fontFamily:"Arial",width:"300px",boxSizing:"border-box"},q={marginLeft:"20px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:"#FFFFFF"},z=function(e){var t=e.style,n=e.options,a=e.message,r=e.close;return Object(C.jsxs)("div",{style:Object(c.a)(Object(c.a)({},W),t),children:["info"===n.type&&Object(C.jsx)(H,{}),"success"===n.type&&Object(C.jsx)(U,{}),"error"===n.type&&Object(C.jsx)(M,{}),a,Object(C.jsx)("button",{style:q,onClick:r,children:Object(C.jsx)(K,{})})]})},Q=n(161),X=n(28),Y={position:I.b.BOTTOM_RIGHT,timeout:3e3,offset:"30px",transition:I.c.SCALE,type:"error"};var Z=function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(I.a,Object(c.a)(Object(c.a)({template:z},Y),{},{children:Object(C.jsxs)(Q.a,{children:[Object(C.jsx)(X.b,{exact:!0,path:"/technical-test-greendatasoft/",children:Object(C.jsx)(B,{})}),Object(C.jsx)(X.b,{children:Object(C.jsx)(X.a,{to:"/technical-test-greendatasoft/"})})]})}))})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,268)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))};s.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(Z,{})}),document.getElementById("root")),$()}},[[256,1,2]]]);
//# sourceMappingURL=main.e1e089a8.chunk.js.map